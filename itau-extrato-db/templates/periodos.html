{% extends "base.html" %}
{% block content %}
<h2>Transações por Período</h2>
<form method="get" class="grid two">
  <div>
    <div class="label">Mês</div>
    <select class="input" name="mes">
      {% for m in range(1, 13) %}
        <option value="{{m}}" {% if m == mes %}selected{% endif %}>{{"%02d"|format(m)}}</option>
      {% endfor %}
    </select>
  </div>
  <div>
    <div class="label">Ano</div>
    <input class="input" type="number" name="ano" value="{{ano}}" min="2000" max="2100">
  </div>
  <div>
    <button class="btn" type="submit">Filtrar</button>
  </div>
</form>

<div class="table-wrap" style="margin-top:16px">
  <table class="table dense">
    <thead>
      <tr>
        <th>Data</th>
        <th>Débitos</th>
        <th>Créditos</th>
        <th>Saldo do Dia</th>
      </tr>
    </thead>
    <tbody>
      {% for r in historico %}
      <tr>
        <td data-label="Data">{{ r.data | fmt_date }}</td>
        <td data-label="Débitos" class="right mono">{{ r.debitos | money }}</td>
        <td data-label="Créditos" class="right mono">{{ r.creditos | money }}</td>
        <td data-label="Saldo do Dia" class="right mono">{{ r.saldo | money }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
